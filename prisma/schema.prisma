// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

//En prod
//On localHost:
// "npx prisma migrate dev" (review generated migration)
// then
//On Server (using FortiClient)
// "npx prisma migrate deploy"

//En dev
// "npx prisma db push"

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model GuildSettings {
  GuildID     String  @id
  Prefix      String  @db.VarChar(3) @default(">")
  GuildName   String  @db.VarChar(255)
  Active      Boolean @default(true)
  Responses   Boolean @default(false)
  Personality String  @db.VarChar(500) @default("Answer as if you are annoying.")
}

model Snowflake {
  GuildID   String
  UserID    String
  @@id([GuildID,UserID])
  @@unique([GuildID,UserID])
}

enum LogType {
  ERROR
  SEVERE
  WARNING
  INFO
  DEBUG
  MUSIC
  CONSOLE
}
model Logs {
  ID      BigInt    @id @default(autoincrement())
  Date    DateTime  @default(now())
  Value   String    @db.Text
  Type    LogType   @default(INFO)
}

model Message {
  ID          BigInt    @id @default(autoincrement())
  MessageID   String  
  UserID      String
  UserName    String
  ChannelID   String
  ChannelName String
  GuildID     String
  GuildName   String
  Timestamp   DateTime  @default(now())
  Content     String    @db.Text
}

model Blacklist {
  ID          BigInt  @id @default(autoincrement())
  GuildID     String
  UserID      String
  Permission  String  @db.Text
  @@unique([GuildID, UserID])
}

model Reactions {
  ID              BigInt  @id @default(autoincrement())
  GuildID         String
  ChannelString   String
  String          String
  Emotes          String 
  @@unique([GuildID, ChannelString, String])
  }